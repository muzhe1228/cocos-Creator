{"version":3,"sources":["webpack:///src/components/getGroupAward.vue","webpack:///./src/components/getGroupAward.vue?8461","webpack:///./src/components/getGroupAward.vue"],"names":["getGroupAward","name","metaInfo","title","data","awardsName","this","$route","params","downloadAppLead","codeData","wxGroupData","memberList","errorImg","userPic","userNick","userAwardsName","isDisabled","bindData","account","captcha","client","recommendCode","query","inviteCode","captchaText","showAccountToast","mounted","selectGroup","methods","getcaptcha","_this2","validateData","reg","phoneEmail","$toast","message","duration","Object","httpAll","type","then","res","code","timer","_this","num","setInterval","clearInterval","catch","err","bindAccount","_this3","validateAccountData","validateCaptchaData","resData","wxHeadersData","getCoinlaToken","wxBind","shadow","downloadShadow","activityId","infoId","uuid","awardsNumberToast","openStatus","awardsNumber","awardsType","changeInfo","hideFunc","val","event","currentTarget","target","groupAward","$router","push","headersToken","download","js_case","window","location","href","ua","navigator","userAgent","toLowerCase","match","selectGroupNum","_this4","organizeGroup","_this5","_this6","postData","list","i","len","length","nick","pic","components_getGroupAward","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","alt","_v","_s","_l","item","index","directives","rawName","value","memberType","expression","onerror","receiveState","on","click","$event","_m","placeholder","domProps","change","input","composing","$set","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.f36f4d352f1dd5b38cf5.js","sourcesContent":["<template>\n  <div class=\"get_group_award\">\n    <div class=\"userInfo\">\n      <img :src=\"userPic\" alt=\"\">\n      <p>{{userNick}}</p>\n    </div>\n    <div class=\"award_number\">\n      +<span>{{userAwardsName}}</span>\n    </div>\n    <p class=\"notice\">恭喜您组团成功，奖励可在考拉APP中查看</p>\n    <div class=\"member_award_list\">\n      <div class=\"member_award\" v-for=\"(item, index) in memberList\">\n        <div class=\"member\">\n          <p class=\"captain\" v-show=\"item.memberType == 0\">团长</p>\n          <img :src=\"item.pic\" alt=\"\" :onerror=\"errorImg\">\n          <p class=\"nick\">{{item.nick}}</p>\n        </div>\n        <div class=\"number\">\n          <span>{{item.receiveState==0?'未领取':item.awardsName}}</span>\n        </div>\n      </div>\n      <!--  <div class=\"member_award\">\n          <div class=\"member\">\n            <p class=\"captain\">团长</p>\n            <img src=\"/static/images/billboard/coinla.png\" alt=\"\">\n            <p class=\"nick\">kevin</p>\n          </div>\n          <div class=\"number\">\n            <span>55</span><em>CLB</em>\n          </div>\n        </div>\n        <div class=\"member_award\">\n          <div class=\"member\">\n            <img src=\"/static/images/billboard/coinla.png\" alt=\"\">\n            <p class=\"nick\">kevin</p>\n          </div>\n          <div class=\"number\">\n            <span>55</span><em>CLB</em>\n          </div>\n        </div>\n        <div class=\"member_award\">\n          <div class=\"member\">\n            <img src=\"/static/images/billboard/coinla.png\" alt=\"\">\n            <p class=\"nick\">kevin</p>\n          </div>\n          <div class=\"number\">\n            <span>55</span><em>CLB</em>\n          </div>\n        </div>\n        <div class=\"member_award\">\n          <div class=\"member\">\n            <img src=\"/static/images/billboard/coinla.png\" alt=\"\">\n            <p class=\"nick\">kevin</p>\n          </div>\n          <div class=\"number\">\n            <span>55</span><em>CLB</em>\n          </div>\n        </div>-->\n    </div>\n    <div class=\"see_award_list_text\" @click=\"groupAward\">\n      查看奖励记录\n      <img src=\"/static/images/group/symbol.png\" alt=\"\">\n    </div>\n    <div class=\"btn\">\n      <p class=\"group_btn\" @click=\"selectGroupNum\">我要组团</p>\n      <p class=\"download_btn\" @click=\"download()\">下载考拉行情APP</p>\n    </div>\n    <!--绑定app弹框-->\n    <div class=\"shadow_wrap\" v-show=\"showAccountToast\" @click=\"hideFunc('showAccountToast')\">\n      <div class=\"bind_app_toast\" @click=\"\">\n        <h3>绑定卡拉行情账号</h3>\n        <div class=\"userMessage\">\n          <div class=\"account\">\n            <span class=\"account_text\"><em>账</em><em>号 :</em></span>\n            <input type=\"text\" placeholder=\"输入手机号或邮箱\" v-model=\"bindData.account\" @change=\"changeInfo('account')\">\n          </div>\n          <div class=\"captcha\">\n            <span class=\"captcha_text\">验证码 :</span>\n            <input type=\"text\" placeholder=\"输入验证码\" v-model=\"bindData.captcha\" @change=\"changeInfo('captcha')\">\n            <button @click=\"getcaptcha\" :disabled = 'isDisabled'>{{captchaText}}</button>\n          </div>\n        </div>\n        <p class=\"notice_text\">发起组团拆红包需绑定考拉行情APP账号</p>\n        <div class=\"btn\">\n          <p class=\"cancle_btn\" @click=\"showAccountToast = false\">取消</p>\n          <p class=\"bind_btn\" @click=\"bindAccount\">立即绑定</p>\n        </div>\n      </div>\n    </div>\n    <!--引导app下载-->\n    <p class=\"yd\" v-show=\"downloadAppLead\" @click=\"downloadAppLead = false\">\n      <img src=\"/static/images/download/yd.png\" alt=\"\">\n    </p>\n  </div>\n</template>\n\n<script>\n  import {validates, validateHandles} from 'assets/js/reg'\n  import {shareWeixin, isIos, openInApp} from 'assets/js/case'\n  import {getCoinlaSingle} from 'assets/js/httpAll'\n  export default {\n    name: 'getGroupAward',\n    metaInfo:{\n      title: '获取奖励'\n    },\n    data () {\n      return {\n        awardsName: this.$route.params.awardsName,\n        downloadAppLead: false, //下载app引导\n        codeData: '',\n        wxGroupData: '',\n        memberList: [],\n        errorImg: \"this.onerror=null;this.src='/static/images/billboard/coinla.png'\", //默认图片\n        userPic: '',\n        userNick: '',\n        userAwardsName: '',\n        isDisabled: false, //绑定app账号，禁用\n        bindData: {\n          account: '',\n          captcha: '',\n          client: 0,\n          recommendCode: this.$route.query.inviteCode\n        },\n        captchaText: '获取验证码',\n        showAccountToast: false //绑定app账号弹框\n      }\n    },\n    mounted () {\n      this.selectGroup()\n    },\n    methods: {\n      //获取验证码\n      getcaptcha () {\n        let validateData = validateHandles.phoneEmail(this.bindData.account)\n        if(!validateData){\n          getCoinlaSingle('/captcha/sms', {account: this.bindData.account, type: 1}).then((res) => {\n            if(res.data.code == 0){\n              this.$toast({message: '验证码已发送', duration: 1500})\n              let timer = null\n              let _this = this\n              let num = 60\n              _this.captchaText = num + 'S'\n              _this.isDisabled = true\n              timer = setInterval(() => {\n                num = num - 1\n                _this.captchaText = num + 's'\n                if(num <= 0){\n                  _this.isDisabled = false\n                  _this.captchaText = '获取验证码'\n                  clearInterval(timer)\n                }\n              }, 1000)\n            }else{\n              this.$toast({message: res.data.code< 0 ? '失败': res.message, duration: 1500})\n            }\n          }).catch((err) => {})\n        }else{\n          this.$toast({message: validateData, duration: 1500})\n        }\n      },\n      //点击立即绑定, 注册登录\n      bindAccount () {\n        let validateAccountData = validateHandles.phoneEmail(this.bindData.account)\n        let validateCaptchaData = validateHandles.captcha(this.bindData.captcha)\n        if(validateAccountData){\n          this.$toast({message: validateAccountData, duration: 1500})\n        }else if(validateCaptchaData){\n          this.$toast({message: validateCaptchaData, duration: 1500})\n        }else{\n          getCoinlaSingle('/user/login/registerOrLogin', this.bindData).then((res) => {\n            let resData = res.data.data\n            if(res.data.code == 0){\n              this.wxHeadersData = resData //获取token等数据\n              this.$toast({message: '绑定成功', duration: 1500})\n              this.showAccountToast = false\n              //判断是新用户还是老用户（是否微信绑定），新用户显示下载app弹框，老用户显示获取到的奖励弹框\n              getCoinlaToken('/user/wechatCheck', {}, this.wxHeadersData).then((res) => {\n                //code为0代表已经绑定，也就是老用户，获取后端传过来的uuid\n                if(res.data.code == 0){\n                  this.wxBind = false\n                  this.shadow = false\n                  this.downloadShadow = false\n                  //请求拆红包接口\n                  getCoinlaToken('/groupActivity/updateReceiveState', {\n                    activityId: 2,\n                    infoId: this.$route.query.infoId || this.$route.params.infoId,\n                    uuid: this.wxGroupData.uuid\n                  }, this.wxHeadersData).then((res) => {\n                    let resData = res.data.data\n                    this.awardsNumberToast = true\n                    this.shadow = true\n                    this.openStatus = false\n                    this.awardsNumber = resData.awardsNumber\n                    this.awardsType = resData.awardsType\n                    this.awardsName = resData.awardsName\n                  }).catch((err) => {\n                    this.$toast({message: '失败', duration: 1500})\n                  })\n                }else{\n                  //新用户,去绑定微信\n                  this.wxBind = true\n                  this.shadow = true\n                }\n              })\n            }else{\n              this.$toast({message: res.data.code< 0 ? '失败' : res.data.message, duration: 1500})\n            }\n          }).catch((err) => {})\n        }\n      },\n      //注册登录之后，新用户出现下载考拉详情弹框，老用户不需要\n      //验证输入框内容，blur，change\n      changeInfo (type) {\n        let validateAccountData = validateHandles.phoneEmail(this.bindData.account)\n        let validateCaptchaData = validateHandles.captcha(this.bindData.captcha)\n        if(type == 'account'){\n          if(validateAccountData){\n            this.$toast({message: validateAccountData, duration: 1500})\n          }\n        }else{\n          if(validateCaptchaData){\n            this.$toast({message: validateCaptchaData, duration: 1500})\n          }\n        }\n      },\n      hideFunc (val) {\n        let el1 = event.currentTarget;\n        let el2 = event.target;\n        if (el1 == el2) {\n          if(val == 'showAccountToast'){\n            this.showAccountToast = false\n          }else if(val == 'downloadShadow'){\n            this.downloadShadow = false\n          }\n        }\n      },\n      //跳转到我的奖励列表页面\n      groupAward (){\n        this.$router.push({name: 'groupAward', params: {\n          uuid: this.$route.params.uuid,\n          awardsName: this.$route.params.awardsName,\n          infoId: this.$route.params.infoId,\n          headersToken: this.$route.params.headersToken\n        }})\n      },\n      //下载app\n      download () {\n        if (isIos()) {\n          window.location.href = 'https://itunes.apple.com/cn/app/coinla/id1359706851?mt=8'\n        } else {\n          let ua = navigator.userAgent.toLowerCase();\n          if (ua.match(/MicroMessenger/i) == \"micromessenger\" || ua.match(/QQ/i)=='qq') {\n            this.downloadAppLead = true\n          } else {\n            window.location.href = 'https://api.coinla.com/download/android'\n          }\n        }\n      },\n      //成团数量接口\n      selectGroupNum () {\n        if(this.$route.params.headersToken){\n          getCoinlaToken('/groupActivity/selectGroupNumber', {\n            activityId: 2,\n          }, this.$route.params.headersToken).then((res) => {\n            let resData = res.data.data\n            if(resData < 10){\n              this.organizeGroup()\n            }else{\n              this.$toast({message: '发团次数超过10次不可再发团', duration: 1500})\n            }\n          }).catch((err) => {\n            this.$toast({message: '失败', duration: 1500})\n          })\n        }else{\n          this.showAccountToast = true //未登录账号,绑定app弹框显示\n        }\n      },\n      //我要组团接口\n      organizeGroup () {\n        getCoinlaToken('/groupActivity/insertGroup', {\n          activityId: 2,\n          uuid: this.$route.params.uuid,\n        }, this.$route.params.headersToken).then((res) => {\n          let resData = res.data.data\n          this.$router.push({name: 'group', params: {infoId: resData.infoId}})\n        }).catch((err) => {\n          this.$toast({message: '失败', duration: 1500})\n        })\n      },\n      selectGroup () {\n        //如果是微信打开不传token,app打开传token\n        let postData = {\n          activityId: 2,\n          infoId: this.$route.query.infoId || this.$route.params.infoId,\n        }\n        getCoinlaSingle('/groupActivity/selectGroup', postData).then((res) => {\n          let _this = this\n          let resData = res.data.data\n          if(res.data.code == 0){\n            _this.memberList = resData.memberList\n            let list = resData.memberList\n            for(let i = 0, len = resData.memberList.length; i < len; i++){\n              if(list[i].uuid == this.$route.params.uuid){\n                this.userNick = list[i].nick\n                this.userPic = list[i].pic\n                this.userAwardsName = list[i].awardsName\n                return false\n              }\n            }\n          }else{\n            this.$toast({message: res.data.message, duration: 1500})\n          }\n        }).catch((err) => {})\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"stylus\">\n  .get_group_award{\n    min-height: 100vh\n    padding: 0 0.32rem 1rem\n    background: url(/static/images/group/get_group_award_bac.png) no-repeat\n    background-size: 100% 100%\n    overflow: hidden\n    em{\n      font-style: normal\n    }\n    .userInfo{\n      width: 100%\n      text-align: center\n      img{\n        width: 1.4rem\n        height: 1.4rem\n        border-radius: 50%\n        overflow: hidden\n        margin: 0.34rem auto 0.18rem\n      }\n      p{\n        color: #fff\n        font-size:0.36rem\n      }\n    }\n    .award_number{\n      width: 4.2rem\n      height: 1.52rem\n      margin: 0 auto\n      background: url(/static/images/group/award_number_img.png) no-repeat\n      background-size: 100% 100%\n      line-height: 1.52rem\n      text-align: center\n      color: #f78353\n      font-size: 0.48rem\n    }\n    .notice{\n      color: #fff\n      font-size: 0.28rem\n      text-align: center\n      margin: 0.12rem auto 0.2rem\n    }\n    .member_award_list{\n      border-radius: 0.2rem\n      overflow: hidden\n      .member_award{\n        display: flex\n        height: 1.44rem\n        line-height: 1.44rem\n        padding-left: 0.32rem\n        background-color: #e4faff\n        .member{\n          display: flex\n          align-items: center\n          position: relative\n          width: 50%\n          overflow: hidden\n          .captain{\n            position: absolute\n            left: 0.13rem\n            top: 0.18rem\n            width: 0.62rem\n            height: 0.24rem\n            line-height: 0.24rem\n            text-align: center\n            color: #fff\n            background-color: #f56d6d\n            font-size: 0.18rem\n            border-radius: 3px\n          }\n          .nick{\n            margin-left: 0.14rem\n            color: #49abc2\n            font-size: 0.24rem\n          }\n          img{\n            border-radius: 50%\n            border: 1px solid #9fdcea\n            width: 0.88rem\n            height: 0.88rem\n          }\n        }\n        .number{\n          width: 50%\n          text-align: center\n          color: #f78353\n          font-size: 0.36rem\n        }\n      }\n      .member_award:nth-child(even){\n        background-color: #effbfd\n      }\n    }\n    .see_award_list_text{\n      color: #fff\n      font-size: 0.28rem\n      text-align: center\n      margin: 0.26rem 0 0.32rem\n      img{\n        width: 0.22rem\n        height: 0.2rem\n        margin-left: 0.1rem\n      }\n    }\n    .btn{\n      display: flex\n      justify-content: space-between\n      p{\n        height: 0.66rem\n        width: 2.72rem\n        line-height: 0.66rem\n        text-align: center\n        color: #fff\n        font-size: 0.28rem\n        background-color: #f56d6d\n        border-radius: 0.32rem\n      }\n    }\n    .shadow_wrap {\n      position: fixed\n      width: 100%\n      height: 100%\n      z-index: 998\n      left: 0\n      top: 0\n      background: rgba(0, 0, 0, .6)\n      .bind_app_toast{\n        width: 6.21rem\n        padding: 0 0.55rem 0.7rem\n        position: absolute\n        top: 50%\n        left: 50%\n        transform: translate(-50%, -50%)\n        z-index: 999\n        background-color: #fff\n        border-radius: 0.2rem\n        h3{\n          text-align: center\n          margin: 0.96rem auto 0.53rem\n          color: #2f3133\n          font-size: 0.36rem\n        }\n        .userMessage{\n          .account, .captcha{\n            display: flex\n            align-items: center\n            width: 100%\n            height: 0.82rem\n            padding: 0 0.21rem 0 0.24rem\n            color: #605e5e\n            font-size: 0.28rem\n            margin-bottom: 0.25rem\n            background-color: #f8f7f7\n            border-radius: 0.2rem\n            overflow: hidden\n          }\n          .account_text, .captcha_text{\n            display: block\n            text-align: right\n            width: 1.05rem\n          }\n          .account_text{\n            display: flex\n            em{\n              font-style: normal\n              display: block\n              width: 50%\n              text-align: left\n              justify-content: space-between\n            }\n          }\n          .captcha{\n            button{\n              display: block\n              width: 1.16rem\n            //width: 216rem\n              height: 0.4rem\n              line-height: 0.4rem\n              font-size: 0.20rem\n              border: 1px solid #5dd2fd\n              border-radius: 0.2rem\n              text-align: center\n            }\n          }\n          input, button{\n            line-height: normal\n            border: none\n            background: none\n          }\n          input{\n            padding: 0.1rem 0 0.1rem 0.15rem\n            flex: 1\n            color: #333\n          }\n        }\n        .notice_text{\n          color: #b6b6b6\n          font-size: 0.22rem\n          text-align: center\n          margin: 0.22rem auto 0.74rem\n\n        }\n        .btn{\n          display: flex\n          justify-content: space-between\n          p{\n            text-align: center\n            width: 1.92rem\n            height: 0.6rem\n            line-height: 0.6rem\n            border-radius: 0.2rem\n            font-size: 0.3rem\n            background-color: #ebebeb\n            color: #bab9b9\n          }\n          .bind_btn{\n            background-color: #f64819\n            color: #fff\n          }\n        }\n      }\n    }\n    .yd {\n      width: 100%\n      height: 100%\n      position: fixed\n      background-color: rgba(0, 0, 0, .5)\n      left: 0\n      top: 0\n      z-index: 9999\n      img {\n        position: absolute\n        right: 10px\n        width: 6.1rem\n        top: 0\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/getGroupAward.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"get_group_award\"},[_c('div',{staticClass:\"userInfo\"},[_c('img',{attrs:{\"src\":_vm.userPic,\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.userNick))])]),_vm._v(\" \"),_c('div',{staticClass:\"award_number\"},[_vm._v(\"\\n    +\"),_c('span',[_vm._v(_vm._s(_vm.userAwardsName))])]),_vm._v(\" \"),_c('p',{staticClass:\"notice\"},[_vm._v(\"恭喜您组团成功，奖励可在考拉APP中查看\")]),_vm._v(\" \"),_c('div',{staticClass:\"member_award_list\"},_vm._l((_vm.memberList),function(item,index){return _c('div',{staticClass:\"member_award\"},[_c('div',{staticClass:\"member\"},[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.memberType == 0),expression:\"item.memberType == 0\"}],staticClass:\"captain\"},[_vm._v(\"团长\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":item.pic,\"alt\":\"\",\"onerror\":_vm.errorImg}}),_vm._v(\" \"),_c('p',{staticClass:\"nick\"},[_vm._v(_vm._s(item.nick))])]),_vm._v(\" \"),_c('div',{staticClass:\"number\"},[_c('span',[_vm._v(_vm._s(item.receiveState==0?'未领取':item.awardsName))])])])})),_vm._v(\" \"),_c('div',{staticClass:\"see_award_list_text\",on:{\"click\":_vm.groupAward}},[_vm._v(\"\\n    查看奖励记录\\n    \"),_c('img',{attrs:{\"src\":\"/static/images/group/symbol.png\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('p',{staticClass:\"group_btn\",on:{\"click\":_vm.selectGroupNum}},[_vm._v(\"我要组团\")]),_vm._v(\" \"),_c('p',{staticClass:\"download_btn\",on:{\"click\":function($event){_vm.download()}}},[_vm._v(\"下载考拉行情APP\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAccountToast),expression:\"showAccountToast\"}],staticClass:\"shadow_wrap\",on:{\"click\":function($event){_vm.hideFunc('showAccountToast')}}},[_c('div',{staticClass:\"bind_app_toast\",on:{\"click\":function($event){}}},[_c('h3',[_vm._v(\"绑定卡拉行情账号\")]),_vm._v(\" \"),_c('div',{staticClass:\"userMessage\"},[_c('div',{staticClass:\"account\"},[_vm._m(0),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bindData.account),expression:\"bindData.account\"}],attrs:{\"type\":\"text\",\"placeholder\":\"输入手机号或邮箱\"},domProps:{\"value\":(_vm.bindData.account)},on:{\"change\":function($event){_vm.changeInfo('account')},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.bindData, \"account\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"captcha\"},[_c('span',{staticClass:\"captcha_text\"},[_vm._v(\"验证码 :\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bindData.captcha),expression:\"bindData.captcha\"}],attrs:{\"type\":\"text\",\"placeholder\":\"输入验证码\"},domProps:{\"value\":(_vm.bindData.captcha)},on:{\"change\":function($event){_vm.changeInfo('captcha')},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.bindData, \"captcha\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{attrs:{\"disabled\":_vm.isDisabled},on:{\"click\":_vm.getcaptcha}},[_vm._v(_vm._s(_vm.captchaText))])])]),_vm._v(\" \"),_c('p',{staticClass:\"notice_text\"},[_vm._v(\"发起组团拆红包需绑定考拉行情APP账号\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('p',{staticClass:\"cancle_btn\",on:{\"click\":function($event){_vm.showAccountToast = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('p',{staticClass:\"bind_btn\",on:{\"click\":_vm.bindAccount}},[_vm._v(\"立即绑定\")])])])]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.downloadAppLead),expression:\"downloadAppLead\"}],staticClass:\"yd\",on:{\"click\":function($event){_vm.downloadAppLead = false}}},[_c('img',{attrs:{\"src\":\"/static/images/download/yd.png\",\"alt\":\"\"}})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"account_text\"},[_c('em',[_vm._v(\"账\")]),_c('em',[_vm._v(\"号 :\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-510f6150\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/getGroupAward.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-510f6150\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./getGroupAward.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./getGroupAward.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./getGroupAward.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-510f6150\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./getGroupAward.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-510f6150\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/getGroupAward.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}